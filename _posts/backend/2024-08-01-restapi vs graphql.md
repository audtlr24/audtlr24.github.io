---
layout: post
title: REST API vs Graphql
date: 2024-08-01 12:00:00 +0000
categories: backend
---
### REST API

정의
- REST (Representational State Transfer) 는 웹 어플리케이션의 리소스에 엑세스 하기 위한 아키텍쳐 스타일
- REST API 는 HTTP 프로토콜 기반으로 서버-클라이언트 데이터 전송을 규정하는 규격

특징
- 리소스 기반 
	- 리소스를 URI 로 표현
- HTTP 메소드 사용
	- GET, POST, PUT, DELETE 등
- 상태 비저장성
	- API 호출은 독립적이고 서버는 클라이언트의 상태를 저장하지 않음

### GraphQL

정의
- GraphQL은 API 클라이언트가 필요한 데이터 구조의 정의 (Schema) 를 통해 서버-클라이언트 간의 쿼리 언어

특징
- 클라이언트 주도 데이터 요청
	- 필요한 데이터의 형태와 내용으로 쿼리를 명시하면 서버는 해당 데이터를 요청에 맞춰서 변환하고 제공
- 단일 엔드포인트
- 스키마를 통한 데이터 타입 검사 기능
- over-fetching 과 under-fetching 방지
	- 필요한 데이터만 요청하고 그에 따라 필요한 데이터만 전송하기에 불필요한 데이터가 전송되지 않음

### 왜 GraphQL 을 쓰면 좋을까

1. Over-fetching, Under-fetching
	- REST API 는 단일 엔드포인트에서 고정된 데이터 구조를 반환하는데 이 때문에 필요없는 데이터도 반환하게됨
	- GraphQL 은 필요한 데이터만 명시할 수 있음
	- 또한 여러 데이터가 필요한 경우에도 resolver 를 통해서 한번의 요청으로 다른 필요한 데이터를 함께 가져올수 있음
	
2. 버전 관리
	- 기능의 추가 변경에 대해서 버전 관리 필요성이 적음
	- 예를 들어 모델에 추가만 있는 경우, resolver 추가만 있는 경우는 버젼이 필요하지 않을 수 있음
	
3. 타입 정의\
	- 스키마, 스칼라 등을 통해 타입을 명확히 정의하고 개발 중 타입 안정성이 증가함


### GraphQL 의 단점

1. 복잡함
	- GraphQL 을 잘쓰기 위해서는 FE, BE 모두 특성을 잘 이해해야 하고 그러지 않으면 오히려 데이터를 순환해서 가져오는 등의 문제가 발생할 수 있음
	- 학습 곡선이 존재
2. 캐싱
	- REST API 에 비하여 요청을 캐싱하기에 고려해야할 점들이 있음